<script lang="ts">import {onMount} from "svelte";import {Application,Assets,Sprite,Container} from "pixi.js";import {play,endRound} from "stake-engine-client";let c;let gridSprites=;onMount(async()=>{const app=new Application();await app.init({width:420,height:420,background:"#f0e4d7"});c.appendChild(app.canvas);
const names=["matcha","cat","book","succulent","vinyl","cabin","headphones","wild"];const g=new Container();app.stage.addChild(g);for(let i=0;i<49;i++){const tex=await Assets.load(`./${names[i%8]}.png`);const s=new Sprite(tex);s.x=(i%7)*60;s.y=Math.floor(i/7)*60;s.width=s.height=55;gridSprites.push(s);g.addChild(s);}});
async function spin(){const res=await play({amount:1000000,mode:"BASE"});if(res.status==="SUCCESS"){const board=res.round.events.board;for(let i=0;i<49;i++){const symName=board[i];gridSprites[i].texture=Assets.get(symName);}if(res.round.payoutMultiplier>0){await endRound();}}} </script><div style="display:flex;flex-direction:column;align-items:center;"><div bind:this={c}></div><button on:click={spin} style="width:200px;height:60px;margin-top:20px;background:#8e7f7d;color:white;border-radius:30px;font-weight:bold;border:none;">SPIN</button></div>
